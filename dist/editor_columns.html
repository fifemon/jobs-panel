<div class="editor-row">
	<div class="tight-form-container">
        <div ng-repeat="col in ctrl.panel.columns">
            <div class="tight-form">
                <ul class="tight-form-list pull-right">
                    <li class="tight-form-item">
                        <i class="fa fa-arrow-up pointer" ng-hide="$first" ng-click="ctrl.moveColumnUp($index)"></i>
                        <i class="fa fa-arrow-down pointer" ng-hide="$last" ng-click="ctrl.moveColumnDown($index)"></i>
                        <i class="fa fa-trash pointer" ng-click="ctrl.removeColumn($index)"></i>
                    </li>
                </ul>
                <ul class="tight-form-list">
                    <li class="tight-form-item"><strong>Name</strong></li>
                    <li>
                        <input type="text" class="input-medium tight-form-input" ng-model="col.name" placeholder="name" ng-change="ctrl.refresh()">
                    </li>
                    <li class="tight-form-item">Field</li>
                    <li>
                        <input type="text" class="input-medium tight-form-input" ng-model="col.field" placeholder="field" ng-change="ctrl.refresh()">
                    </li>
                    <li class="tight-form-item">Title</li>
                    <li>
                        <input type="text" class="input-large tight-form-input" ng-model="col.title" placeholder="title" ng-change="ctrl.refresh()">
                    </li>
                    <li class="tight-form-item">Format</li>
                    <li>
                        <select class="gf-form-input" 
                            ng-model="col.format" 
                            ng-options="v for v in ['string','number','date','jobid']" 
                            ng-change="ctrl.refresh()"></select>
                    </li>
                </ul>
                <div class="clearfix"></div>
            </div>

            <div class="tight-form" ng-if="col.format==='number'">
                <ul class="tight-form-list">
                    <li class="tight-form-item text-right" style="width: 93px">Decimals</li>
                    <li>
                        <input type="text" class="input-small tight-form-input" ng-model="col.decimals" placeholder="0" ng-change="ctrl.refresh()">
                    </li>
                    <li class="tight-form-item">Scale</li>
                    <li>
                        <input type="text" class="input-small tight-form-input" ng-model="col.scale" placeholder="1" ng-change="ctrl.refresh()">
                    </li>
                </ul>
                <div class="clearfix"></div>
            </div>

            <div class="tight-form" ng-if="col.format==='date'">
                <ul class="tight-form-list">
                    <li class="tight-form-item text-right" style="width: 93px">Date Format</li>
                    <li>
                        <input type="text" class="input-large tight-form-input" ng-model="col.dateFormat" placeholder="ddd MMM DD HH:mm ZZ" ng-change="ctrl.refresh()">
                    </li>
                    <li class="tight-form-item""><a href="http://momentjs.com/docs/#/displaying/format/" target="_new">formats<i class="fa fa-fw fa-external-link"></i></a></li>
                </ul>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
    <div class="gf-form gf-form--offset-1">
        <button class="btn btn-inverse gf-form-btn" ng-click="ctrl.addColumn()">
            <i class="fa fa-plus"></i>&nbsp;
            Add Column
        </button>
    </div>
</div>
